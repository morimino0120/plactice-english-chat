# 画面設計書：AI英語学習チャットアプリ

## 1. 画面一覧

| 画面ID | 画面名 | パス | 認証要否 |
|--------|--------|------|----------|
| SC-001 | ユーザ新規登録画面 | `/signup` | 不要 |
| SC-002 | ログイン画面 | `/login` | 不要 |
| SC-003 | パスワードリセット画面 | `/reset-password` | 不要 |
| SC-004 | AIとのチャット画面 | `/chat` | 必要 |
| SC-005 | ブックマークした英文一覧画面 | `/bookmarks` | 必要 |
| SC-006 | プロフィール設定画面 | `/profile` | 必要 |

---

## 2. 画面詳細設計

### 2.1 ユーザ新規登録画面（SC-001）

#### 2.1.1 画面概要
新規ユーザーがアカウントを作成するための画面。Supabase認証を使用してユーザー登録を行う。

#### 2.1.2 画面レイアウト

```
┌─────────────────────────────────────┐
│  [アプリロゴ/タイトル]                │
│                                      │
│  新規登録                            │
│                                      │
│  ┌──────────────────────────────┐  │
│  │ メールアドレス                 │  │
│  │ [入力フィールド]               │  │
│  └──────────────────────────────┘  │
│                                      │
│  ┌──────────────────────────────┐  │
│  │ パスワード                     │  │
│  │ [入力フィールド]               │  │
│  └──────────────────────────────┘  │
│                                      │
│  ┌──────────────────────────────┐  │
│  │ パスワード（確認）             │  │
│  │ [入力フィールド]               │  │
│  └──────────────────────────────┘  │
│                                      │
│  ┌──────────────────────────────┐  │
│  │       登録する                │  │
│  └──────────────────────────────┘  │
│                                      │
│  既にアカウントをお持ちですか？       │
│  [ログイン画面へ]                    │
│                                      │
└─────────────────────────────────────┘
```

#### 2.1.3 UI要素

| 要素 | 説明 | 必須 |
|------|------|------|
| メールアドレス入力 | メールアドレスを入力するテキストフィールド | ○ |
| パスワード入力 | パスワードを入力するテキストフィールド（非表示） | ○ |
| パスワード確認入力 | パスワード確認用のテキストフィールド（非表示） | ○ |
| 登録ボタン | 新規登録を実行するボタン | ○ |
| ログインリンク | ログイン画面への遷移リンク | ○ |
| エラーメッセージ | バリデーションエラーや登録失敗時のメッセージ表示エリア | - |

#### 2.1.4 バリデーション

- メールアドレス：有効なメールアドレス形式であること
- パスワード：8文字以上であること
- パスワード確認：パスワードと一致すること

#### 2.1.5 遷移先

- 登録成功時：ログイン画面（`/login`）またはチャット画面（`/chat`）
- ログインリンククリック時：ログイン画面（`/login`）

---

### 2.2 ログイン画面（SC-002）

#### 2.2.1 画面概要
既存ユーザーがログインするための画面。Supabase認証を使用してログインを行う。

#### 2.2.2 画面レイアウト

```
┌─────────────────────────────────────┐
│  [アプリロゴ/タイトル]                │
│                                      │
│  ログイン                            │
│                                      │
│  ┌──────────────────────────────┐  │
│  │ メールアドレス                 │  │
│  │ [入力フィールド]               │  │
│  └──────────────────────────────┘  │
│                                      │
│  ┌──────────────────────────────┐  │
│  │ パスワード                     │  │
│  │ [入力フィールド]               │  │
│  └──────────────────────────────┘  │
│                                      │
│  [パスワードを忘れた場合]            │
│                                      │
│  ┌──────────────────────────────┐  │
│  │       ログイン                │  │
│  └──────────────────────────────┘  │
│                                      │
│  アカウントをお持ちでないですか？     │
│  [新規登録画面へ]                    │
│                                      │
└─────────────────────────────────────┘
```

#### 2.2.3 UI要素

| 要素 | 説明 | 必須 |
|------|------|------|
| メールアドレス入力 | メールアドレスを入力するテキストフィールド | ○ |
| パスワード入力 | パスワードを入力するテキストフィールド（非表示） | ○ |
| パスワードリセットリンク | パスワードリセット画面への遷移リンク | - |
| ログインボタン | ログインを実行するボタン | ○ |
| 新規登録リンク | 新規登録画面への遷移リンク | ○ |
| エラーメッセージ | ログイン失敗時のメッセージ表示エリア | - |

#### 2.2.4 バリデーション

- メールアドレス：必須入力
- パスワード：必須入力

#### 2.2.5 遷移先

- ログイン成功時：チャット画面（`/chat`）
- パスワードリセットリンククリック時：パスワードリセット画面（`/reset-password`）
- 新規登録リンククリック時：新規登録画面（`/signup`）

---

### 2.3 パスワードリセット画面（SC-003）

#### 2.3.1 画面概要
パスワードを忘れたユーザーがパスワードをリセットするための画面。Supabase認証のパスワードリセット機能を使用する。

#### 2.3.2 画面レイアウト

```
┌─────────────────────────────────────┐
│  [アプリロゴ/タイトル]                │
│                                      │
│  パスワードリセット                  │
│                                      │
│  登録済みのメールアドレスを入力       │
│  してください。リセットリンクを       │
│  送信します。                        │
│                                      │
│  ┌──────────────────────────────┐  │
│  │ メールアドレス                 │  │
│  │ [入力フィールド]               │  │
│  └──────────────────────────────┘  │
│                                      │
│  ┌──────────────────────────────┐  │
│  │     リセットリンクを送信      │  │
│  └──────────────────────────────┘  │
│                                      │
│  [ログイン画面へ戻る]                │
│                                      │
└─────────────────────────────────────┘
```

#### 2.3.3 UI要素

| 要素 | 説明 | 必須 |
|------|------|------|
| メールアドレス入力 | メールアドレスを入力するテキストフィールド | ○ |
| 送信ボタン | リセットリンクを送信するボタン | ○ |
| ログイン画面へのリンク | ログイン画面への遷移リンク | ○ |
| 成功メッセージ | リセットリンク送信成功時のメッセージ表示エリア | - |
| エラーメッセージ | エラー時のメッセージ表示エリア | - |

#### 2.3.4 バリデーション

- メールアドレス：有効なメールアドレス形式であること

#### 2.3.5 遷移先

- ログイン画面へのリンククリック時：ログイン画面（`/login`）

---

### 2.4 AIとのチャット画面（SC-004）

#### 2.4.1 画面概要
ユーザーがAIと対話を行い、英語を学習するためのメイン画面。AIのレスポンスは3つの独立した吹き出しとして表示される。

#### 2.4.2 画面レイアウト（デスクトップ）

```
┌──────┬─────────────────────────────────────┐
│      │  [ヘッダー]                          │
│      │  [アプリロゴ]                        │
│      ├─────────────────────────────────────┤
│      │                                      │
│ [📱] │  ┌──────────────────────────────┐  │
│ [💬] │  │ AI: 今日はどんな内容を学びたい│  │
│ [⭐] │  │     ですか？                  │  │
│ [⚙️] │  └──────────────────────────────┘  │
│      │                                      │
│      │                    ┌──────────────┐ │
│      │                    │ User: Hello  │ │
│      │                    └──────────────┘ │
│      │                                      │
│      │  ┌──────────────────────────────┐  │
│      │  │ AI: [解説テキスト]            │  │
│      │  │     [🔊] [⭐]                 │  │
│      │  └──────────────────────────────┘  │
│      │                                      │
│      │  ┌──────────────────────────────┐  │
│      │  │ AI: [例文1]                  │  │
│      │  │     [🔊] [⭐]                 │  │
│      │  └──────────────────────────────┘  │
│      │                                      │
│      │  ┌──────────────────────────────┐  │
│      │  │ AI: [例文2]                  │  │
│      │  │     [🔊] [⭐]                 │  │
│      │  └──────────────────────────────┘  │
│      │                                      │
│      │                    ┌──────────────┐ │
│      │                    │ User: [入力] │ │
│      │                    └──────────────┘ │
│      │                                      │
│      ├─────────────────────────────────────┤
│      │  ┌──────────────────────────────┐  │
│      │  │ [テキスト入力エリア]          │  │
│      │  │                              │  │
│      │  └──────────────────────────────┘  │
│      │  [送信ボタン]                        │
└──────┴─────────────────────────────────────┘
```

#### 2.4.2.1 画面レイアウト（モバイル）

```
┌─────────────────────────────────────┐
│  [☰] [アプリロゴ]                   │
├─────────────────────────────────────┤
│                                      │
│  ┌──────────────────────────────┐  │
│  │ AI: 今日はどんな内容を学びたい│  │
│  │     ですか？                  │  │
│  └──────────────────────────────┘  │
│                                      │
│                    ┌──────────────┐ │
│                    │ User: Hello  │ │
│                    └──────────────┘ │
│                                      │
│  ┌──────────────────────────────┐  │
│  │ AI: [解説テキスト]            │  │
│  │     [🔊] [⭐]                 │  │
│  └──────────────────────────────┘  │
│                                      │
│  ┌──────────────────────────────┐  │
│  │ AI: [例文1]                  │  │
│  │     [🔊] [⭐]                 │  │
│  └──────────────────────────────┘  │
│                                      │
│  ┌──────────────────────────────┐  │
│  │ AI: [例文2]                  │  │
│  │     [🔊] [⭐]                 │  │
│  └──────────────────────────────┘  │
│                                      │
│                    ┌──────────────┐ │
│                    │ User: [入力] │ │
│                    └──────────────┘ │
│                                      │
├─────────────────────────────────────┤
│  ┌──────────────────────────────┐  │
│  │ [テキスト入力エリア]          │  │
│  │                              │  │
│  └──────────────────────────────┘  │
│  [送信ボタン]                        │
└─────────────────────────────────────┘
```

#### 2.4.3 UI要素

| 要素 | 説明 | 必須 |
|------|------|------|
| サイドバー | ナビゲーションメニュー（デスクトップ：常時表示、モバイル：ドロワー） | ○ |
| ハンバーガーメニュー | モバイル用のサイドバー開閉ボタン（☰） | ○ |
| ヘッダー | アプリロゴ | ○ |
| メッセージエリア | ユーザーとAIの対話ログを表示するスクロール可能なエリア | ○ |
| ユーザーメッセージ | ユーザーが送信したメッセージ（右寄せ） | ○ |
| AIメッセージ（吹き出し） | AIのレスポンス（3つの独立した吹き出し、左寄せ） | ○ |
| 音声再生アイコン | 各吹き出しの音声を再生するボタン（🔊） | ○ |
| ブックマークアイコン | 各吹き出しをブックマークに保存するボタン（⭐） | ○ |
| テキスト入力エリア | ユーザーがメッセージを入力するテキストフィールド | ○ |
| 送信ボタン | メッセージを送信するボタン | ○ |
| ローディング表示 | AIレスポンス生成中の表示（ストリーミング表示） | - |

#### 2.4.4 機能詳細

**初期メッセージ**
- セッション開始時、AIから「今日はどんな内容を学びたいですか？」というメッセージを自動表示

**AIレスポンス表示**
- ユーザーの入力に対し、AIは3つの独立したメッセージ（吹き出し）を生成
- ストリーミング表示で順次表示される
- 各吹き出しには音声再生アイコンとブックマークアイコンを配置

**音声再生機能**
- 各吹き出しの音声アイコンをクリックすると、その吹き出しのテキストが読み上げられる
- Web Speech APIまたはOpenAI TTS APIを使用

**ブックマーク保存機能**
- 各吹き出しのブックマークアイコンをクリックすると、該当のテキストがブックマーク一覧に保存される
- 保存成功時は視覚的フィードバック（アイコンの色変更など）を表示

**メッセージ送信**
- Enterキーまたは送信ボタンでメッセージを送信
- 送信後、入力フィールドをクリア

#### 2.4.5 遷移先

- サイドバーのチャットメニュークリック時：チャット画面（`/chat`）- 現在の画面
- サイドバーのブックマークメニュークリック時：ブックマーク一覧画面（`/bookmarks`）
- サイドバーの設定メニュークリック時：プロフィール設定画面（`/profile`）

---

### 2.5 ブックマークした英文一覧画面（SC-005）

#### 2.5.1 画面概要
ユーザーが保存したブックマークを一覧表示し、管理するための画面。削除機能には確認モーダルを実装する。

#### 2.5.2 画面レイアウト（デスクトップ）

```
┌──────┬─────────────────────────────────────┐
│      │  [ヘッダー]                          │
│      │  ブックマーク一覧                    │
│      ├─────────────────────────────────────┤
│ [📱] │                                      │
│ [💬] │  ┌──────────────────────────────┐  │
│ [⭐] │  │ 2024/01/15 10:30             │  │
│ [⚙️] │  │ ────────────────────────────│  │
│      │  │ This is an example sentence. │  │
│      │  │                              │  │
│      │  │ [🔊] [🗑️]                    │  │
│      │  └──────────────────────────────┘  │
│      │                                      │
│      │  ┌──────────────────────────────┐  │
│      │  │ 2024/01/15 09:15             │  │
│      │  │ ────────────────────────────│  │
│      │  │ Another example sentence.   │  │
│      │  │                              │  │
│      │  │ [🔊] [🗑️]                    │  │
│      │  └──────────────────────────────┘  │
│      │                                      │
│      │  （以下、同様にリスト表示）          │
│      │                                      │
└──────┴─────────────────────────────────────┘
```

#### 2.5.2.1 画面レイアウト（モバイル）

```
┌─────────────────────────────────────┐
│  [☰] ブックマーク一覧               │
├─────────────────────────────────────┤
│                                      │
│  ┌──────────────────────────────┐  │
│  │ 2024/01/15 10:30             │  │
│  │ ────────────────────────────│  │
│  │ This is an example sentence. │  │
│  │                              │  │
│  │ [🔊] [🗑️]                    │  │
│  └──────────────────────────────┘  │
│                                      │
│  ┌──────────────────────────────┐  │
│  │ 2024/01/15 09:15             │  │
│  │ ────────────────────────────│  │
│  │ Another example sentence.   │  │
│  │                              │  │
│  │ [🔊] [🗑️]                    │  │
│  └──────────────────────────────┘  │
│                                      │
│  （以下、同様にリスト表示）          │
│                                      │
└─────────────────────────────────────┘
```

#### 2.5.3 UI要素

| 要素 | 説明 | 必須 |
|------|------|------|
| サイドバー | ナビゲーションメニュー（デスクトップ：常時表示、モバイル：ドロワー） | ○ |
| ハンバーガーメニュー | モバイル用のサイドバー開閉ボタン（☰） | ○ |
| ヘッダー | 画面タイトル | ○ |
| ブックマークリスト | 保存したブックマークを時系列で表示 | ○ |
| ブックマークカード | 各ブックマークの内容を表示するカード | ○ |
| 保存日時 | ブックマークを保存した日時 | ○ |
| テキスト内容 | ブックマークしたテキスト | ○ |
| 音声再生アイコン | テキストを読み上げるボタン（🔊） | ○ |
| 削除ボタン | ブックマークを削除するボタン（🗑️） | ○ |
| 確認モーダル | 削除実行前の確認ダイアログ | ○ |
| 空状態表示 | ブックマークが0件の場合の表示 | - |

#### 2.5.4 機能詳細

**一覧表示**
- 保存したブックマークを時系列（新しい順）で表示
- 各カードには保存日時とテキスト内容を表示

**音声再生機能**
- 各ブックマークの音声アイコンをクリックすると、テキストが読み上げられる

**削除機能**
- 削除ボタンをクリックすると、確認モーダルを表示
- モーダルには「本当に削除しますか？」というメッセージと、キャンセルボタン・削除ボタンを表示
- 削除ボタンをクリックした場合のみ削除を実行
- 削除後、リストから即座に該当項目を削除

**空状態**
- ブックマークが0件の場合、「まだブックマークがありません」などのメッセージを表示

#### 2.5.5 確認モーダル詳細

```
┌─────────────────────────────────────┐
│                                      │
│         ┌──────────────────┐        │
│         │                  │        │
│         │ 本当に削除しますか？      │
│         │                  │        │
│         │ [キャンセル] [削除]       │
│         │                  │        │
│         └──────────────────┘        │
│                                      │
└─────────────────────────────────────┘
```

#### 2.5.6 遷移先

- サイドバーのチャットメニュークリック時：チャット画面（`/chat`）
- サイドバーのブックマークメニュークリック時：ブックマーク一覧画面（`/bookmarks`）- 現在の画面
- サイドバーの設定メニュークリック時：プロフィール設定画面（`/profile`）

---

### 2.6 プロフィール設定画面（SC-006）

#### 2.6.1 画面概要
ユーザーが自分のプロフィール情報を確認・編集するための画面。ログアウト機能も提供する。

#### 2.6.2 画面レイアウト（デスクトップ）

```
┌──────┬─────────────────────────────────────┐
│      │  [ヘッダー]                          │
│      │  プロフィール設定                    │
│      ├─────────────────────────────────────┤
│ [📱] │                                      │
│ [💬] │  メールアドレス                      │
│ [⭐] │  ┌──────────────────────────────┐  │
│ [⚙️] │  │ user@example.com             │  │
│      │  └──────────────────────────────┘  │
│      │                                      │
│      │  ユーザー名                          │
│      │  ┌──────────────────────────────┐  │
│      │  │ [入力フィールド]             │  │
│      │  └──────────────────────────────┘  │
│      │                                      │
│      │  ┌──────────────────────────────┐  │
│      │  │     保存する                 │  │
│      │  └──────────────────────────────┘  │
│      │                                      │
│      │  ────────────────────────────────  │
│      │                                      │
│      │  ┌──────────────────────────────┐  │
│      │  │     ログアウト               │  │
│      │  └──────────────────────────────┘  │
│      │                                      │
└──────┴─────────────────────────────────────┘
```

#### 2.6.2.1 画面レイアウト（モバイル）

```
┌─────────────────────────────────────┐
│  [☰] プロフィール設定               │
├─────────────────────────────────────┤
│                                      │
│  メールアドレス                      │
│  ┌──────────────────────────────┐  │
│  │ user@example.com             │  │
│  └──────────────────────────────┘  │
│                                      │
│  ユーザー名                          │
│  ┌──────────────────────────────┐  │
│  │ [入力フィールド]             │  │
│  └──────────────────────────────┘  │
│                                      │
│  ┌──────────────────────────────┐  │
│  │     保存する                 │  │
│  └──────────────────────────────┘  │
│                                      │
│  ────────────────────────────────  │
│                                      │
│  ┌──────────────────────────────┐  │
│  │     ログアウト               │  │
│  └──────────────────────────────┘  │
│                                      │
└─────────────────────────────────────┘
```

#### 2.6.3 UI要素

| 要素 | 説明 | 必須 |
|------|------|------|
| サイドバー | ナビゲーションメニュー（デスクトップ：常時表示、モバイル：ドロワー） | ○ |
| ハンバーガーメニュー | モバイル用のサイドバー開閉ボタン（☰） | ○ |
| ヘッダー | 画面タイトル | ○ |
| メールアドレス表示 | 登録済みのメールアドレス（編集不可） | ○ |
| ユーザー名入力 | ユーザー名を入力・編集するテキストフィールド | ○ |
| 保存ボタン | 変更内容を保存するボタン | ○ |
| ログアウトボタン | ログアウトを実行するボタン | ○ |
| 成功メッセージ | 保存成功時のメッセージ表示エリア | - |
| エラーメッセージ | エラー時のメッセージ表示エリア | - |

#### 2.6.4 機能詳細

**プロフィール情報表示**
- 現在のメールアドレスとユーザー名を表示
- メールアドレスは編集不可（Supabase認証の仕様に従う）

**プロフィール情報編集**
- ユーザー名のみ編集可能
- 保存ボタンをクリックすると変更内容を保存

**ログアウト機能**
- ログアウトボタンをクリックすると、ログアウトを実行
- ログアウト後、ログイン画面（`/login`）に遷移

#### 2.6.5 遷移先

- サイドバーのチャットメニュークリック時：チャット画面（`/chat`）
- サイドバーのブックマークメニュークリック時：ブックマーク一覧画面（`/bookmarks`）
- サイドバーの設定メニュークリック時：プロフィール設定画面（`/profile`）- 現在の画面
- ログアウト成功時：ログイン画面（`/login`）

---

## 3. 共通UI要素

### 3.1 サイドバー

認証が必要な画面（チャット、ブックマーク一覧、プロフィール設定）に表示されるナビゲーションサイドバー。

#### 3.1.1 サイドバーレイアウト（デスクトップ）

```
┌─────────────────┐
│  [アプリロゴ]    │
├─────────────────┤
│                 │
│  📱 ホーム       │
│  💬 チャット     │
│  ⭐ ブックマーク │
│  ⚙️  設定        │
│                 │
│  ─────────────  │
│                 │
│  👤 ユーザー名   │
│  🚪 ログアウト   │
│                 │
└─────────────────┘
```

#### 3.1.2 サイドバーレイアウト（モバイル - ドロワー）

モバイルでは、ハンバーガーメニュー（☰）をクリックすると、左側からスライドインするドロワーとして表示される。

```
┌─────────────────┐
│  [アプリロゴ]    │
│  [×]            │  ← 閉じるボタン
├─────────────────┤
│                 │
│  📱 ホーム       │
│  💬 チャット     │
│  ⭐ ブックマーク │
│  ⚙️  設定        │
│                 │
│  ─────────────  │
│                 │
│  👤 ユーザー名   │
│  🚪 ログアウト   │
│                 │
└─────────────────┘
```

#### 3.1.3 UI要素

| 要素 | 説明 | 必須 |
|------|------|------|
| アプリロゴ | アプリケーションのロゴまたはタイトル | ○ |
| ホームメニュー | ホーム画面へのリンク（📱アイコン） | - |
| チャットメニュー | チャット画面へのリンク（💬アイコン） | ○ |
| ブックマークメニュー | ブックマーク一覧画面へのリンク（⭐アイコン） | ○ |
| 設定メニュー | プロフィール設定画面へのリンク（⚙️アイコン） | ○ |
| ユーザー情報 | 現在ログイン中のユーザー名表示 | ○ |
| ログアウトボタン | ログアウトを実行するボタン（🚪アイコン） | ○ |
| アクティブ状態表示 | 現在の画面に対応するメニュー項目をハイライト表示 | ○ |
| ハンバーガーメニュー | モバイル用のサイドバー開閉ボタン（☰） | ○ |
| オーバーレイ | モバイルでサイドバー表示時の背景オーバーレイ | ○ |

#### 3.1.4 機能詳細

**表示条件**
- 認証が必要な画面（チャット、ブックマーク一覧、プロフィール設定）にのみ表示
- ログイン画面、新規登録画面、パスワードリセット画面には表示しない

**デスクトップ表示**
- 画面左側に固定表示（常時表示）
- 幅：約240px〜280px
- 高さ：画面全体の高さに合わせる

**モバイル表示**
- デフォルトでは非表示
- ハンバーガーメニュー（☰）をクリックすると、左側からスライドイン
- オーバーレイをクリック、または閉じるボタン（×）で閉じる
- 幅：画面幅の約80%（最大320px）

**アクティブ状態**
- 現在表示中の画面に対応するメニュー項目を視覚的にハイライト
- 背景色の変更、アイコンの強調、テキストの太字などで表現

**ナビゲーション**
- 各メニュー項目をクリックすると、対応する画面に遷移
- 遷移後、モバイルでは自動的にサイドバーを閉じる

**ログアウト機能**
- ログアウトボタンをクリックすると、確認モーダルを表示（オプション）
- ログアウト実行後、ログイン画面に遷移

#### 3.1.5 アニメーション

- **ドロワー表示**: 左側からスライドイン（0.3秒）
- **ドロワー非表示**: 左側にスライドアウト（0.3秒）
- **オーバーレイ表示**: フェードイン（0.2秒）
- **メニュー項目ホバー**: 背景色の変化（0.2秒）

### 3.2 ヘッダー

認証が必要な画面のヘッダーコンポーネント。

| 要素 | 説明 |
|------|------|
| ハンバーガーメニュー | モバイル用のサイドバー開閉ボタン（☰） |
| アプリロゴ | アプリケーションのロゴまたはタイトル（デスクトップではサイドバーに表示） |
| 画面タイトル | 現在の画面名を表示（モバイルのみ） |

### 3.2 ローディング表示

APIリクエスト中やデータ取得中の表示。

| 要素 | 説明 |
|------|------|
| スピナー | ローディング中の回転アニメーション |
| スケルトンローディング | コンテンツ読み込み中のプレースホルダー表示 |

### 3.3 エラー表示

エラー発生時の表示。

| 要素 | 説明 |
|------|------|
| エラーメッセージ | エラー内容を表示するテキスト |
| リトライボタン | エラー時の再試行ボタン |

---

## 4. レスポンシブデザイン

### 4.1 ブレークポイント

| デバイス | 幅 | 説明 |
|---------|-----|------|
| モバイル | ~768px | スマートフォン向けレイアウト |
| タブレット | 769px~1024px | タブレット向けレイアウト |
| デスクトップ | 1025px~ | PC向けレイアウト |

### 4.2 対応方針

- モバイルファーストの設計
- チャット画面は縦スクロールを基本とする
- タブレット・デスクトップでは横方向の余白を活用

### 4.3 サイドバーのレスポンシブ対応

| デバイス | 表示方法 | 幅 | 説明 |
|---------|---------|-----|------|
| モバイル | ドロワー（非表示） | 画面幅の80%（最大320px） | ハンバーガーメニューで開閉 |
| タブレット | ドロワー（非表示） | 画面幅の80%（最大320px） | ハンバーガーメニューで開閉 |
| デスクトップ | 固定表示 | 240px〜280px | 常時表示、画面左側に固定 |

---

## 5. 追加推奨画面

以下の画面を追加することを推奨します：

### 5.1 ホーム画面（ダッシュボード）

**目的**: チャット画面への導線を提供し、学習進捗を可視化

**機能**:
- 最近のチャットセッション一覧
- 学習統計（ブックマーク数、学習日数など）
- クイックアクション（新規チャット開始、ブックマーク一覧）

**パス**: `/` または `/home`

### 5.2 チャット履歴画面

**目的**: 過去のチャットセッションを閲覧・管理

**機能**:
- 過去のチャットセッション一覧
- セッションの削除機能
- セッションの再開機能

**パス**: `/chat/history`

---

## 6. 画面遷移図

### 6.1 認証前の画面遷移

```
[ログイン画面] ──→ [新規登録画面]
     │
     └──→ [パスワードリセット画面]
```

### 6.2 認証後の画面遷移（サイドバー経由）

```
[チャット画面] ←──→ [ブックマーク一覧画面]
     ↕                    ↕
     └──→ [プロフィール設定画面] ←──┘
              │
              └──→ [ログイン画面]（ログアウト時）
```

**サイドバーからの遷移**
- すべての認証が必要な画面間をサイドバーのメニューから直接遷移可能
- 各画面からサイドバーを開いて、任意の画面に移動できる

---

## 7. デザインガイドライン

### 7.1 カラースキーム

- **プライマリカラー**: 英語学習をイメージする色（例：青系）
- **セカンダリカラー**: アクセントカラー（例：オレンジ系）
- **背景色**: 明るい背景（例：白または薄いグレー）
- **テキスト色**: 読みやすい濃い色（例：ダークグレーまたは黒）

### 7.2 タイポグラフィ

- **見出し**: 太字、大きめのフォントサイズ
- **本文**: 読みやすいフォントサイズ（16px以上推奨）
- **英語テキスト**: 等幅フォントまたは読みやすいサンセリフフォント

### 7.3 アイコン

#### 7.3.1 機能アイコン

- **音声再生**: 🔊（スピーカーアイコン）
- **ブックマーク**: ⭐（星アイコン）または 📌（ピンアイコン）
- **削除**: 🗑️（ゴミ箱アイコン）
- **設定**: ⚙️（歯車アイコン）

#### 7.3.2 サイドバーナビゲーションアイコン

- **ホーム**: 📱（ホームアイコン）
- **チャット**: 💬（チャットアイコン）
- **ブックマーク**: ⭐（星アイコン）
- **設定**: ⚙️（歯車アイコン）
- **ユーザー**: 👤（ユーザーアイコン）
- **ログアウト**: 🚪（ドアアイコン）
- **ハンバーガーメニュー**: ☰（三本線アイコン）
- **閉じる**: ×（クローズアイコン）

### 7.4 アニメーション

- **メッセージ表示**: フェードインアニメーション
- **ストリーミング表示**: タイピングアニメーション
- **ボタンクリック**: 軽いプレスアニメーション
- **モーダル表示**: スライドインアニメーション

---

## 8. アクセシビリティ

### 8.1 対応項目

- **キーボードナビゲーション**: すべての操作をキーボードで実行可能
- **スクリーンリーダー対応**: 適切なaria-labelを設定
- **コントラスト比**: WCAG 2.1 AA基準を満たす
- **フォーカス表示**: 明確なフォーカスインジケーター

### 8.2 実装チェックリスト

- [ ] すべてのボタンにaria-labelを設定
- [ ] フォーム入力に適切なラベルを設定
- [ ] エラーメッセージを適切に通知
- [ ] キーボードタブ順序が論理的である
- [ ] 色だけでなく、アイコンやテキストでも情報を伝達

