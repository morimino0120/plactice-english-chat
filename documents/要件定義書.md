# システム要件定義書：AI英語学習チャットアプリ

## 1. システム概要

ユーザーがAIとの対話を通じて、自分の興味のあるトピックで英語を学べるチャット型アプリケーション。

## 2. 機能要件

### 2.1 チャット機能

* **初期メッセージ表示**:
* セッション開始時、AIから「今日はどんな内容を学びたいですか？」というメッセージを自動送信する。


* **AIレスポンス生成**:
* ユーザーの入力に対し、AIは**3つの独立したメッセージ（吹き出し）**を生成し、個別に表示する。
* （例：解説、例文1、例文2 のように分割して表示）


* **音声再生機能（TTS）**:
* 各吹き出しに配置された「音声アイコン」をクリックすると、その吹き出しのテキストが読み上げられる。


* **ブックマーク保存機能**:
* 各吹き出しに配置された「ブックマークアイコン」をクリックすると、該当のテキストが「ブックマーク一覧」に保存される。



### 2.2 ブックマーク管理機能

* **一覧表示**:
* 保存したメッセージをリスト形式で閲覧できる専用画面。


* **削除フロー（重要）**:
* 削除ボタン押下時、即座に削除せず**確認モーダル**を表示する。
* 「本当に削除しますか？」等の確認を経てから実行する。



---

## 3. 画面設計（UI/UX）

### 3.1 メインチャット画面

| 要素 | 説明 |
| --- | --- |
| **メッセージエリア** | ユーザーとAIの対話ログを表示。AIの返信は3つの吹き出しに分かれる。 |
| **アクションボタン** | 各吹き出しの横/下に「音声（スピーカー）」と「保存（リボン/星）」を配置。 |
| **入力フォーム** | 画面最下部にテキスト入力フィールドを配置。 |

### 3.2 ブックマーク一覧画面

| 要素 | 説明 |
| --- | --- |
| **リスト表示** | 保存した日時やテキスト内容を表示。 |
| **削除ボタン** | 各項目に配置。 |
| **確認モーダル** | 削除実行前に中央にポップアップ表示。 |

---

## 4. 技術要素（推奨）

* **AI Engine**: OpenAI API (GPT-4o 等)
* **音声合成 (TTS)**: Web Speech API または OpenAI TTS API
* **フロントエンド**: React, Next.js, または Flutter（モバイル想定の場合）
* **データベース**: Firebase または Supabase（ブックマーク保存用）

---

## 5. 非機能要件

* **レスポンス速度**: AIの3つのメッセージがスムーズに（あるいはストリーミングで）表示されること。
* **操作性**: 音声再生が遅延なく実行されること。
